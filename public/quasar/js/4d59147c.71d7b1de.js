(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["4d59147c"],{76468:function(t,e,a){"use strict";var s=a("b1c4"),o=a.n(s);o.a},b1c4:function(t,e,a){},ff2f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("div",[a("div",{staticClass:"radio"},[a("q-radio",{attrs:{val:"one",color:"blue",label:"Обед"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}}),a("q-radio",{staticStyle:{"margin-left":"10px"},attrs:{val:"two",color:"blue",label:"Выпечка"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}})],1),a("div",{staticStyle:{overflow:"hidden"}},[a("p",{staticClass:"date"},[t._v("Выберите дату:")]),a("q-datetime",{staticClass:"datetime",on:{change:t.postDate},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),a("p",{staticStyle:{color:"red"}},[t._v(t._s(t.error))])],1),a("h5",{staticClass:"dateFor"},[t._v("Обед на "+t._s(t.dateOrders))]),a("table",{staticClass:"q-table"},[a("thead",[a("tr",[a("th",{staticClass:"firstColumnAll"},[t._v("Наименование")]),a("th",{staticClass:"secondColumnAll"},[t._v("Цена")]),a("th",{staticClass:"thirdColumnAll"},[t._v("Количество")]),a("th",{staticClass:"fourthColumnAll"},[t._v("Сумма")])])]),a("tbody",[t._l(t.ordersInfo,function(e){return a("tr",[e.name?a("td",{staticClass:"name"},[t._v(t._s(e.name+" ("+e.weight+")"))]):t._e(),a("td",[t._v(t._s(e.price))]),a("td",[t._v(t._s(e.count))]),a("td",[t._v(t._s(e.total))])])}),a("tr",[a("td",{staticClass:"name"},[a("b",[t._v("Итого")])]),a("td"),a("td"),a("td",[a("b",[t._v(t._s(t.ordersInfo.totalSum))])])])],2)]),a("h5",{staticClass:"dateFor"},[t._v("Расфасовка")]),a("table",{staticClass:"q-table"},[a("thead",[a("tr",[a("th",{staticClass:"firstColumnUser"},[t._v("id")]),a("th",{staticClass:"secondColumnUser"},[t._v("Блюда")]),a("th",{staticClass:"thirdColumnUser"},[t._v("Сумма")])])]),a("tbody",t._l(Object.keys(t.perUserInfo),function(e){return a("tr",[a("td",[t._v(t._s(e))]),a("td",[t._l(t.perUserInfo[e],function(e){return a("div",{staticClass:"row text-center"},[e.name?a("span",{staticClass:"nameUser"},[t._v(t._s(e.name+" ("+e.weight+") - "+e.count+" порц."))]):t._e()])}),a("br")],2),a("td",[t._v("\n              "+t._s(t.perUserInfo[e].totalSumUser)+"\n            ")])])}))]),a("div",{staticStyle:{overflow:"hidden"}},[a("q-btn",{staticClass:"btn_absent shadow-0",attrs:{label:"Отправить"},on:{click:t.getPDF}})],1)])])},o=[];s._withStripped=!0;var r={name:"PurchaseHistory",data:function(){return{separator:"horizontal",model:"",error:"",ordersInfo:"",perUserInfo:[],dateOrders:"",radio:"one"}},methods:{postDate:function(){var t=this;this.$axios.post("/get-order-date",{model:this.model}).then(function(e){"выберите дату"==e.data?(t.data=e.data,t.error=e.data):(t.data=e.data,t.error="",t.ordersInfo=e.data.ordersInfo,t.perUserInfo=e.data.perUserInfo,t.dateOrders=e.data.dateOrders)}).catch(function(t){alert("Ошибка"),console.log(t)})},getPDF:function(){this.$axios.get("/generate-pdf",{responseType:"blob"}).then(function(t){var e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download","remaining_fee.pdf"),document.body.appendChild(a),a.click()}).catch(function(t){console.log(t)})}}},n=r,l=(a("76468"),a("2877")),d=Object(l["a"])(n,s,o,!1,null,"39071f4a",null);d.options.__file="PurchaseHistory.vue";e["default"]=d.exports}}]);